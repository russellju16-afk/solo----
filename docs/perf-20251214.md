# 构建产物与性能记录（2025-12-14）

本轮目标：记录 web/admin 构建结果与 chunk 体积，确认无 `>500KB` 大包告警；并说明当前采取的拆包/懒加载策略。

## 构建命令（已执行）

```bash
# web
npm run build

# admin
npm --prefix admin run build:check
npm --prefix admin run lint

# server（稳定性顺手验证）
npm --prefix server run build
```

构建日志：
- web：`logs/build-web-20251214.log`
- admin：`logs/build-admin-20251214.log`
- admin lint：`logs/lint-admin-20251214.log`
- server：`logs/build-server-20251214.log`

## 产物体积摘要（largest chunks）

### web（Vite）

> 结论：largest chunk **< 500KB**，无超大包问题。

- `vendor-*.js`：**483.56 kB**（gzip 169.43 kB）
- `antd-*.js`：**396.52 kB**（gzip 109.04 kB）
- `react-vendor-*.js`：141.71 kB（gzip 45.80 kB）

### admin（Vite）

> 结论：largest chunk **< 500KB**，无超大包问题。

- `rc-*.js`：**405.87 kB**（gzip 137.44 kB）
- `antd-*.js`：**403.55 kB**（gzip 108.97 kB）
- `vendor-*.js`：161.03 kB（gzip 58.05 kB）
- `react-vendor-*.js`：139.84 kB（gzip 45.04 kB）

## 当前采用的措施（拆包/懒加载）

- Vite `manualChunks`：
  - web：`vite.config.ts`
  - admin：`admin/vite.config.ts`
- 页面级路由懒加载（非首页优先 lazy）：
  - web：`src/App.tsx`
  - admin：`admin/src/App.tsx`


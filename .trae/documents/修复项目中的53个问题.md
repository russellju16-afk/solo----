# 修复计划

## 问题分析
通过诊断信息，我发现项目中存在53个问题，主要分为以下几类：
1. JSX语法错误（未关闭标签、未终止字符串）
2. 模块引用错误（找不到模块或类型声明）
3. 文件不是模块（空文件或格式错误）
4. TypeScript类型不匹配
5. QueryBuilder方法不存在（skip、getMany）
6. 未使用的导入和变量
7. Tailwind CSS语法警告

## 修复步骤

### 1. 修复前端JSX语法错误
- **文件**：`src/pages/Home/index.tsx`
- **问题**：多个JSX标签未关闭、字符串未终止
- **解决方案**：
  - 关闭所有未关闭的div和section标签
  - 修复未终止的字符串字面量

### 2. 修复前端模块引用问题
- **文件**：`src/App.tsx`
- **问题**：缺少默认导出、找不到模块
- **解决方案**：
  - 确保Home组件有默认导出
  - 修复或移除不存在的模块引用

### 3. 修复后端语法错误
- **文件**：`server/src/modules/product/product.service.ts`
- **问题**：缺少闭合括号
- **解决方案**：添加缺少的闭合括号

### 4. 修复QueryBuilder相关错误
- **文件**：
  - `server/src/modules/content/solution.service.ts`
  - `server/src/modules/product/product.service.ts`
  - `server/src/modules/lead/lead.service.ts`
- **问题**：QueryBuilder缺少skip和getMany方法
- **解决方案**：
  - 检查TypeORM版本，确认正确的方法名
  - 替换为正确的分页方法（如take/skip -> limit/offset）

### 5. 修复类型不匹配问题
- **文件**：
  - `server/src/modules/content/solution.service.ts`
  - `server/src/modules/product/product-category.service.ts`
  - `server/src/modules/lead/lead.service.ts`
- **问题**：返回类型不匹配
- **解决方案**：
  - 确保返回的是正确的实体类型
  - 修复类型断言或转换

### 6. 修复模块引用错误
- **文件**：
  - `server/src/app.module.ts`
  - `server/src/modules/auth/auth.module.ts`
  - `server/src/modules/content/content.module.ts`
  - `server/src/modules/product/product.module.ts`
- **问题**：找不到模块或类型声明
- **解决方案**：
  - 检查文件是否存在
  - 修复文件路径
  - 确保文件有正确的导出

### 7. 修复文件不是模块问题
- **文件**：
  - `server/src/modules/lead/lead-followup.service.ts`
  - `server/src/modules/content/banner.controller.ts`
  - `server/src/modules/content/case.service.ts`
  - `server/src/modules/auth/auth.service.ts`
  - `server/src/modules/product/product-brand.service.ts`
- **问题**：文件不是模块
- **解决方案**：
  - 检查文件内容，确保有正确的导出
  - 如果是空文件，添加必要的代码或移除引用

### 8. 移除未使用的导入和变量
- **文件**：
  - `server/src/modules/content/solution.service.ts`
  - `server/src/modules/product/product.service.ts`
  - `server/src/modules/lead/lead.service.ts`
- **问题**：未使用的导入和变量
- **解决方案**：移除未使用的导入和变量

### 9. 修复JWT配置问题
- **文件**：`server/src/modules/auth/auth.module.ts`
- **问题**：signOptions.expiresIn类型不兼容
- **解决方案**：使用正确的expiresIn格式

### 10. 忽略Tailwind CSS警告
- **文件**：`src/index.css`
- **问题**：Unknown at rule @tailwind
- **解决方案**：这是VS Code的警告，实际运行正常，可通过安装Tailwind CSS扩展解决

## 修复顺序
1. 先修复语法错误（JSX标签、缺少括号、未终止字符串）
2. 修复模块引用问题
3. 修复类型不匹配问题
4. 修复QueryBuilder方法问题
5. 移除未使用的导入和变量
6. 修复配置问题
7. 最后处理警告信息

这个计划将确保我们系统地解决所有53个问题，从最基础的语法错误开始，逐步修复更复杂的类型和配置问题。